# è‡ªåŠ¨åŒ–ä¸Šä¼ è§†é¢‘åˆ°ç¤¾äº¤åª’ä½“
åŒ…å«ï¼šæŠ–éŸ³ã€è§†é¢‘å·ã€bilibiliã€å°çº¢ä¹¦ç­‰å¹³å°
1. è‡ªåŠ¨åŒ–ä¸Šä¼ 
2. è§†é¢‘ç«‹å³å‘å¸ƒ or å®šæ—¶å‘å¸ƒ
3. è‡ªåŠ¨å¡«å†™æ ‡é¢˜ã€hashtagç­‰

## install
```pip install -r requeirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple```

## æ ¸å¿ƒæ¨¡å—è§£é‡Š

### æ–‡ä»¶ç›®å½•ç»“æ„
filepath ä¸ºæœ¬åœ°è§†é¢‘ç›®å½•ï¼Œç›®å½•åŒ…å«è§†é¢‘æ–‡ä»¶ã€è§†é¢‘metaä¿¡æ¯txtæ–‡ä»¶

fileï¼š2023-08-24_16-29-52 - è¿™ä½å‹‡æ•¢çš„ç”·å­ä¸ºäº†å¿ƒçˆ±ä¹‹äººæ¯å¤©åšå®ˆ .mp4

meta_file:2023-08-24_16-29-52 - è¿™ä½å‹‡æ•¢çš„ç”·å­ä¸ºäº†å¿ƒçˆ±ä¹‹äººæ¯å¤©åšå®ˆ .txt

meta_file å†…å®¹ï¼š
```angular2html
---Youtube title---
è¿™ä½å‹‡æ•¢çš„ç”·å­ä¸ºäº†å¿ƒçˆ±ä¹‹äººæ¯å¤©åšå®ˆ ğŸ¥ºâ¤ï¸â€ğŸ©¹
#åšæŒä¸æ‡ˆ #çˆ±æƒ…æ‰§ç€ #å¥‹æ–—ä½¿è€… #çŸ­è§†é¢‘
```

è§†é¢‘å‘å¸ƒè§„åˆ™ï¼š
1. ç¬¬ä¸€æ¡è§†é¢‘ç«‹å³å‘é€
2. ç¬¬äºŒæ¡å¼€å§‹ æ¯æ—¥11:00, 16:00å®šæ—¶å‘å¸ƒ
ä¸¾ä¾‹ï¼š
filepath 5ä¸ªè§†é¢‘
ç¬¬ä¸€ä¸ªè§†é¢‘ç«‹å³å‘å¸ƒï¼Œç¬¬äºŒä¸ªè§†é¢‘åœ¨ç¬¬äºŒå¤©11ç‚¹å‘å¸ƒï¼Œç¬¬ä¸‰ä¸ªè§†é¢‘åœ¨ç¬¬äºŒå¤©16ç‚¹å‘å¸ƒï¼Œç¬¬å››ä¸ªè§†é¢‘åœ¨ç¬¬ä¸‰å¤©11ç‚¹å‘å¸ƒ....


### bilibili
1. è®¾ç½®å¥½è§†é¢‘ç›®å½•ç»“æ„
2. æ›¿æ¢filepathæœ¬åœ°ç›®å½•ï¼ˆè§†é¢‘ç›®å½•ï¼‰
3. è·å–bilibili ç›¸åº”cookie: sessdata, bili_jct, buvid3, dedeuserid, ac_time_value(ç”¨äºåˆ·æ–°cookieï¼Œ è§å›¾2)
```javascript
// è·å– cookie ä¸­çš„å€¼
function getCookie(name) {
    const value = "; " + document.cookie;
    const parts = value.split("; " + name + "=");
    if (parts.length == 2) return parts.pop().split(";").shift();
}

// è·å– localStorage ä¸­çš„å€¼
function getLocalStorage(name) {
    return localStorage.getItem(name);
}

// è·å–æ‰€éœ€çš„å€¼
const values = {
    sessdata: 'åŠ å¯†ä¿¡æ¯, è¯·é€šè¿‡æµè§ˆå™¨è·å–',
    bili_jct: getCookie('bili_jct'),
    buvid3: getCookie('buvid3'),
    dedeuserid: getCookie('dedeuserid'),
    ac_time_value: getLocalStorage('ac_time_value')
};

// è¾“å‡ºå€¼
console.log(values);

```

4. æ‹‰å–å­ä»“åº“ `git submodule add https://github.com/Nemo2011/bilibili-api.git bilibili_uploader/bilibili_api`

![Alt text](media/e0df568f16d6447c8a66f672ba37af2f.jpg)
![Alt text](media/2023-10-09_105553.png)

å…¶ä»–éƒ¨åˆ†è§£é‡Šï¼š
```angular2html
random_emoji() æ ‡é¢˜åå¢åŠ éšæœºemojiï¼Œé¿å…å‡ºé”™åæŠ›å‡ºç›¸åŒæ ‡é¢˜ä¸å…è®¸ä¸Šä¼ 
time.sleep(30) 
ä¸ºä»€ä¹ˆæ²¡ä½¿ç”¨pypiåŒ…ï¼Œå› ä¸ºæœ‰ä¸ªbugï¼Œä»“åº“ä»£ç ä¿®æ”¹äº†ä½†æ˜¯pypiå¹¶æ²¡æœ‰æ›´æ–°
åˆ†åŒºå¯ä»¥åœ¨VideoZoneTypes æ–‡ä»¶è·å–
```
todo:
- [ ] tid åˆ†åŒºidæŒ‡å®š
- [ ] å¤šè´¦å·cookieç®¡ç† https://nemo2011.github.io/bilibili-api/#/refresh_cookies
- [ ] cookie å¤±æ•ˆé¢„è­¦

å‚è€ƒé¡¹ç›®ï¼š
- https://github.com/Nemo2011/bilibili-api
  - api æ–‡æ¡£: https://nemo2011.github.io/bilibili-api/#/homepage
  - åˆ†åŒº æ–‡æ¡£ï¼šhttps://biliup.github.io/tid-ref.html
- https://github.com/biliup/biliup-rs

### å°çº¢ä¹¦
1. ç›®å½•ç»“æ„åŒä¸Š
2. cookieè·å–ï¼Œå¯ä½¿ç”¨chromeæ’ä»¶ï¼šEditThisCookie
- è®¾ç½®å¯¼å‡ºæ ¼å¼
![Alt text](media/20231009111131.png)
- å¯¼å‡º
![Alt text](media/20231009111214.png)

å…¶ä»–éƒ¨åˆ†è§£é‡Šï¼š
```
é‡åˆ°ç­¾åé—®é¢˜ï¼Œå¯å°è¯•æ›´æ–°cdn.jsdelivr.net_gh_requireCool_stealth.min.js_stealth.min.jsæ–‡ä»¶
https://github.com/requireCool/stealth.min.js
å‚è€ƒï¼š
- https://reajason.github.io/xhs/basic
```
todo:
- [ ] å¤šè´¦å·cookieç®¡ç†
- [ ] cookie å¤±æ•ˆé¢„è­¦

å‚è€ƒé¡¹ç›®ï¼šhttps://github.com/ReaJason/xhs

### æŠ–éŸ³
1. ç›®å½•ç»“æ„åŒä¸Š
2. cookieè·å–ï¼šè¿è¡Œç¨‹åºï¼Œæ£€æµ‹æ— cookieï¼Œå¼¹å‡ºæµè§ˆå™¨ï¼Œç™»å½•åï¼Œå…³äºã€‚å°†ä¼šä¿å­˜cookieï¼Œæ–‡ä»¶åä¸ºaccount1.json

å…¶ä»–éƒ¨åˆ†è§£é‡Šï¼š
```
laywright.chromium.launch ä¸­çš„headlesså¯ä»¥è®¾ç½®ä¸ºtrueï¼Œä¸æ˜¾ç¤ºæµè§ˆå™¨
```

todoï¼š
- [ ] cookie å¤±æ•ˆé¢„è­¦
- [ ] å¤šè´¦å·cookieç®¡ç†

å‚è€ƒé¡¹ç›®ï¼š
- https://github.com/wanghaisheng/tiktoka-studio-uploader
- https://github.com/Superheroff/douyin_uplod
- https://github.com/lishang520/DouYin-Auto-Upload.git


### è§†é¢‘å·
1. ç›®å½•ç»“æ„åŒä¸Š
2. cookieè·å–ï¼šè¿è¡Œç¨‹åºï¼Œæ£€æµ‹æ— cookieï¼Œå¼¹å‡ºæµè§ˆå™¨ï¼Œç™»å½•åï¼Œå…³äºã€‚å°†ä¼šä¿å­˜cookieï¼Œæ–‡ä»¶åä¸ºaccount1.json

å…¶ä»–éƒ¨åˆ†è§£é‡Šï¼š
```
laywright.chromium.launch ä¸­çš„headlesså¯ä»¥è®¾ç½®ä¸ºtrueï¼Œä¸æ˜¾ç¤ºæµè§ˆå™¨
chromium ä¸æ”¯æŒh264ç¼–ç ï¼Œéœ€è¦ä½¿ç”¨chromeï¼Œæˆ‘è¿™é‡Œä¸‹è½½çš„æ˜¯Canary
https://www.google.com/intl/en_sg/chrome/canary/

è¿™é‡Œè®¾ç½®å¯åŠ¨çš„æµè§ˆå™¨åœ°å€ï¼ˆä½ chromeçš„åœ°å€ï¼‰
browser = await playwright.chromium.launch(headless=False,
                                                   executable_path="C:/Users/dream/AppData/Local/Google/Chrome SxS/Application/chrome.exe")
```

todoï¼š
- [ ] cookie å¤±æ•ˆé¢„è­¦
- [ ] å¤šè´¦å·cookieç®¡ç†


### tiktok
1. ç›®å½•ç»“æ„åŒä¸Š
2. cookieè·å–ï¼šsessionid
3. è®¾ç½®proxy ä»£ç†ï¼ˆæœ€å¥½å¹²å‡€ä»£ç†ï¼Œé¿å…å°å·ï¼‰
4. url_prefix è®¾ç½®tiktokåŒºï¼Œdefault: us, The request domain. Different countries require different domain configurations.

proxy = {'socks': 'socks://172.16.22.73:10808'}
url_prefix = "www"
å…¶ä»–éƒ¨åˆ†è§£é‡Šï¼š
```
Note that you cannot schedule a video more than 10 days in advance.
Note that your TikTok sessionid cookie needs to be updated every 2 months.
```



todoï¼š
- [ ] cookie å¤±æ•ˆé¢„è­¦
- [ ] å¤šè´¦å·cookieç®¡ç†

å‚è€ƒé¡¹ç›®ï¼šhttps://github.com/546200350/TikTokUploder

