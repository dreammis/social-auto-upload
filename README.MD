# social-auto-upload
social-auto-upload è¯¥é¡¹ç›®æ—¨åœ¨è‡ªåŠ¨åŒ–å‘å¸ƒè§†é¢‘åˆ°å„ä¸ªç¤¾äº¤åª’ä½“å¹³å°

social-auto-upload This project aims to automate the posting of videos to various social media platforms.

<img src="media/show/tkupload.gif" alt="tiktok show" width="800"/>

## ğŸ’¡Feature
- ä¸­å›½ä¸»æµç¤¾äº¤åª’ä½“å¹³å°ï¼š
  - [x] æŠ–éŸ³
  - [x] è§†é¢‘å·
  - [x] bilibili
  - [x] å°çº¢ä¹¦
  - [ ] å¿«æ‰‹

- éƒ¨åˆ†å›½å¤–ç¤¾äº¤åª’ä½“ï¼š
  - [x] tiktok
  - [ ] youtube
- [ ] è‡ªåŠ¨åŒ–ä¸Šä¼ (schedule)
- [x] å®šæ—¶ä¸Šä¼ (cron)
- [ ] cookie ç®¡ç†
- [ ] å›½å¤–å¹³å°proxy è®¾ç½®
- [ ] å¤šçº¿ç¨‹ä¸Šä¼ 
- [ ] slack æ¨é€


# ğŸ’¾Installation
```
pip install -r requirements.txt
playwright install chromium firefox
```

# ğŸ‡ About
The project for my own project extracted, my release strategy is timed release (released a day in advance), so the release part of the event are used for the next day time!

If you need to release it immediately, you can study the source code or ask me questions.

è¯¥é¡¹ç›®ä¸ºæˆ‘è‡ªç”¨é¡¹ç›®æŠ½ç¦»å‡ºæ¥ï¼Œæˆ‘çš„å‘å¸ƒç­–ç•¥æ˜¯å®šæ—¶å‘å¸ƒï¼ˆæå‰ä¸€å¤©å‘å¸ƒï¼‰ï¼Œæ•…å‘å¸ƒéƒ¨åˆ†é‡‡ç”¨çš„äº‹ä»¶å‡ä¸ºç¬¬äºŒå¤©çš„æ—¶é—´

å¦‚æœä½ æœ‰éœ€æ±‚ç«‹å³å‘å¸ƒï¼Œå¯è‡ªè¡Œç ”ç©¶æºç æˆ–è€…å‘æˆ‘æé—®


# æ ¸å¿ƒæ¨¡å—è§£é‡Š

### 1. è§†é¢‘æ–‡ä»¶å‡†å¤‡(video prepare)
filepath æœ¬åœ°è§†é¢‘ç›®å½•ï¼Œç›®å½•åŒ…å«(filepath Local video directory containing)

- è§†é¢‘æ–‡ä»¶(video files)
- è§†é¢‘metaä¿¡æ¯txtæ–‡ä»¶(video meta information txt file)

ä¸¾ä¾‹(for example)ï¼š

fileï¼š2023-08-24_16-29-52 - è¿™ä½å‹‡æ•¢çš„ç”·å­ä¸ºäº†å¿ƒçˆ±ä¹‹äººæ¯å¤©åšå®ˆ .mp4

meta_file:2023-08-24_16-29-52 - è¿™ä½å‹‡æ•¢çš„ç”·å­ä¸ºäº†å¿ƒçˆ±ä¹‹äººæ¯å¤©åšå®ˆ .txt

meta_file å†…å®¹(content)ï¼š
```angular2html
è¿™ä½å‹‡æ•¢çš„ç”·å­ä¸ºäº†å¿ƒçˆ±ä¹‹äººæ¯å¤©åšå®ˆ ğŸ¥ºâ¤ï¸â€ğŸ©¹
#åšæŒä¸æ‡ˆ #çˆ±æƒ…æ‰§ç€ #å¥‹æ–—ä½¿è€… #çŸ­è§†é¢‘
```
---

### 2. æŠ–éŸ³
<img src="media/show/pdf3.gif" alt="douyin show" width="500"/>

ä½¿ç”¨playwrightæ¨¡æ‹Ÿæµè§ˆå™¨è¡Œä¸º
> æŠ–éŸ³å‰ç«¯å®ç°ï¼Œè¯¸å¤šcss class id å‡ä¸ºéšæœºæ•°ï¼Œæ•…é¡¹ç›®ä¸­locatorå¤šé‡‡ç”¨ç›¸å¯¹å®šä½ï¼Œè€Œéå›ºå®šå®šä½
1. å‡†å¤‡è§†é¢‘ç›®å½•ç»“æ„
2. cookieè·å–ï¼šget_douyin_cookie.py æ‰«ç ç™»å½•
3. ä¸Šä¼ è§†é¢‘ï¼šupload_video_to_douyin.py 



å…¶ä»–éƒ¨åˆ†è§£é‡Šï¼š
```
douyin_setup handle å‚æ•°ä¸ºTrueï¼Œä¸ºæ‰‹åŠ¨è·å–cookie False åˆ™æ˜¯æ ¡éªŒcookieæœ‰æ•ˆæ€§

generate_schedule_time_next_day é»˜è®¤ä»ç¬¬äºŒå¤©å¼€å§‹ï¼ˆæ­¤ä¸¾ä¸ºé¿å…é€‰æ‹©æ—¶é—´çš„æ„å¤–é”™è¯¯ï¼‰
å‚æ•°è§£é‡Šï¼š
- total_videos æœ¬æ¬¡ä¸Šä¼ è§†é¢‘ä¸ªæ•°
- videos_per_day æ¯æ—¥ä¸Šä¼ è§†é¢‘æ•°é‡
- daily_times è§†é¢‘å‘å¸ƒæ—¶é—´ é»˜è®¤6ã€11ã€14ã€16ã€22ç‚¹
- start_days ä»ç¬¬Nå¤©å¼€å§‹
```

> 2023å¹´12æœˆ15æ—¥è¡¥å……ï¼šä½¿ç”¨chromiumå¯èƒ½ä¼šå‡ºç°æ— æ³•è¯†åˆ«è§†é¢‘å°é¢å›¾ç‰‡çš„æƒ…å†µ
> è§£å†³æ–¹æ¡ˆï¼š
> 1. ä¸‹è½½chrome
> 2. æ‰¾åˆ°chromeçš„å®‰è£…ç›®å½•
> 3. å°†ç›®å½•é…ç½®åˆ°DouYinVideoç±»ä¸­  self.local_executable_path = "xxx/xxx/chrome.exe"


å‚è€ƒé¡¹ç›®ï¼š
- https://github.com/wanghaisheng/tiktoka-studio-uploader
- https://github.com/Superheroff/douyin_uplod
- https://github.com/lishang520/DouYin-Auto-Upload.git

---

### 3. è§†é¢‘å·
ä½¿ç”¨playwrightæ¨¡æ‹Ÿæµè§ˆå™¨è¡Œä¸º
1. å‡†å¤‡è§†é¢‘ç›®å½•ç»“æ„
2. cookieè·å–ï¼šget_tencent_cookie.py æ‰«ç ç™»å½•
3. ä¸Šä¼ è§†é¢‘ï¼šupload_video_to_tencent.py 



å…¶ä»–éƒ¨åˆ†è§£é‡Šï¼š
```
å‚è€ƒä¸Šé¢douyin_setup é…ç½®
```

> è§†é¢‘å·ä½¿ç”¨chromiumä¼šå‡ºç°ä¸æ”¯æŒä¸Šä¼ è§†é¢‘ï¼Œéœ€è¦è‡ªè¡ŒæŒ‡å®šæœ¬åœ°æµè§ˆå™¨
> è§£å†³æ–¹æ¡ˆï¼š
> 1. ä¸‹è½½chrome
> 2. æ‰¾åˆ°chromeçš„å®‰è£…ç›®å½•
> 3. å°†ç›®å½•é…ç½®åˆ°TencentVideoç±»ä¸­  self.local_executable_path = "xxx/xxx/chrome.exe"

---


### 4. å°çº¢ä¹¦
è¯¥å®ç°ï¼Œå€ŸåŠ©ReaJasonçš„[xhs](https://github.com/ReaJason/xhs)ï¼Œå†æ¬¡æ„Ÿè°¢ã€‚

1. ç›®å½•ç»“æ„åŒä¸Š
2. cookieè·å–ï¼Œå¯ä½¿ç”¨chromeæ’ä»¶ï¼šEditThisCookie
- è®¾ç½®å¯¼å‡ºæ ¼å¼
![Alt text](media/20231009111131.png)
- å¯¼å‡º
![Alt text](media/20231009111214.png)
3. é»è´´è‡³ accounts.iniæ–‡ä»¶ä¸­


#### è§£é‡Šä¸æ³¨æ„äº‹é¡¹ï¼š

```
xhsç­¾åæ–¹å¼åˆ†ä¸ºä¸¤ç§ï¼š
- æœ¬åœ°ç­¾å sign_locl ï¼ˆé»˜è®¤ï¼‰
- è‡ªå»ºç­¾åæœåŠ¡ sign

æµ‹è¯•ä¸‹æ¥å‘ç°æœ¬åœ°ç­¾åï¼Œåœ¨å®é™…å¤šè´¦å·æƒ…å†µä¸‹ä¼šå­˜åœ¨é—®é¢˜
æ•…å¦‚æœä½ æœ‰å¤šè´¦å·åˆ†å‘ï¼Œå»ºè®®é‡‡ç”¨è‡ªå»ºç­¾åæœåŠ¡ï¼ˆtodo ä¸Šä¼ dockeré…ç½®ï¼‰
```
##### ç–‘éš¾æ‚ç—‡
é‡åˆ°ç­¾åé—®é¢˜ï¼Œå¯å°è¯•æ›´æ–°cdn.jsdelivr.net_gh_requireCool_stealth.min.js_stealth.min.jsæ–‡ä»¶
https://github.com/requireCool/stealth.min.js

24.4.10 å¤§å¤šæ•°äººå°çº¢ä¹¦å¤±è´¥çš„åŸå› åœ¨äºä½ çš„cookieæœ‰é—®é¢˜ï¼Œè¯·å‚ç…§ä½ cookieæ˜¯ä¸æ˜¯å¦‚æˆ‘è¿™æ ·
![æ­£ç¡®çš„cookie](media/xhs_error_cookie.png)

å…³äºxhséƒ¨åˆ†å¯å‚è€ƒä½œè€…ï¼š https://reajason.github.io/xhs/basic

##### todo
- æ‰«ç ç™»å½•æ–¹å¼ï¼ˆå®éªŒä¸‹æ¥å‘ç°ä¸æµè§ˆå™¨è·å–çš„å­˜åœ¨åŒºåˆ«ï¼Œä¼šæœ‰é—®é¢˜ï¼Œæœªæ¥å†ç ”ç©¶ï¼‰


å‚è€ƒé¡¹ç›®ï¼š
- https://github.com/ReaJason/xhs

---

### 5. bilibili
è¯¥å®ç°ï¼Œå€ŸåŠ©biliupçš„[biliup-rs](https://github.com/biliup/biliup-rs)ï¼Œå†æ¬¡æ„Ÿè°¢ã€‚
1. å‡†å¤‡è§†é¢‘ç›®å½•ç»“æ„
2. cookieè·å–ï¼š`biliup.exe -u account.json login` é€‰é¡¹ä½ å–œæ¬¢çš„ç™»å½•æ–¹å¼
![ç™»å½•æ–¹å¼](media/get_bili_cookie.png) 
3. ä¸Šä¼ è§†é¢‘ï¼šupload_video_to_bilibili.py

#### è§£é‡Šä¸æ³¨æ„äº‹é¡¹ï¼š

```
bilibili cookie é•¿æœŸæœ‰æ•ˆï¼ˆè‡³å°‘æˆ‘è¿è¡Œ2å¹´ä»¥æ¥æ˜¯è¿™æ ·çš„ï¼‰
å…¶ä»–å¹³å° è¯¸å¦‚linux mac æœåŠ¡å™¨è¿è¡Œ è¯·è‡ªè¡Œç ”ç©¶
```
å‚è€ƒé¡¹ç›®ï¼š
- https://github.com/biliup/biliup-rs

---

### 6. tiktok 
ä½¿ç”¨playwrightæ¨¡æ‹Ÿæµè§ˆå™¨è¡Œä¸º(Simulating Browser Behavior with playwright)
1. å‡†å¤‡è§†é¢‘ç›®å½•ç»“æ„(Prepare the video directory structure)
2. cookieè·å–(generate your cookie)ï¼šget_tk_cookie.py 
![get tiktok cookie](media/tk_login.png) 
3. ä¸Šä¼ è§†é¢‘(upload video)ï¼šupload_video_to_tiktok.py



å…¶ä»–éƒ¨åˆ†è§£é‡Šï¼š
```
å‚è€ƒä¸Šé¢douyin_setup é…ç½®
```

other part explain(for eng friends)ï¼š
```
tiktok_setup handle parameter is True to get cookie manually False to check cookie validity

generate_schedule_time_next_day defaults to start on the next day (this is to avoid accidental time selection errors)
Parameter explanation:
- total_videos Number of videos uploaded this time
- videos_per_day Number of videos uploaded per day
- daily_times The video posting times are 6, 11, 14, 16, 22 by default.
- start_days Starts on the nth day.
```
å‚è€ƒé¡¹ç›®ï¼š
- https://github.com/wkaisertexas/tiktok-uploader

---

### å…¶ä½™éƒ¨åˆ†(todo)
æ•´ç†åä¸Šä¼ 

---

## å…¶ä»–ä¼˜ç§€é¡¹ç›®
- https://github.com/KLordy/auto_publish_videos
  - dbæ”¯æŒ
  - å®šæœŸè‡ªåŠ¨å‘å¸ƒ
  - cookie dbç®¡ç†
  - è§†é¢‘å»é‡
  - æ¶ˆæ¯æ¨é€


## ğŸ¾Communicate
[Donate as u like](https://www.buymeacoffee.com/hysn2001m)

æ¢è®¨è‡ªåŠ¨åŒ–ä¸Šä¼ ã€è‡ªåŠ¨åˆ¶ä½œè§†é¢‘
|![Nas](media/mp.jpg)|![èµèµ](media/QR.png)|
|:-:|:-:|
|åå°å›å¤ `ä¸Šä¼ ` åŠ ç¾¤äº¤æµ|å¦‚æœä½ è§‰å¾—æœ‰ç”¨|
